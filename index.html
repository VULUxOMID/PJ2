<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SubjectPhoto - Professional Photography Services | Capturing Moments, Telling Stories</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Professional photography services by SubjectPhoto. Specializing in portraits, events, nature, and architecture photography. Based in San Francisco with over 8 years of experience.">
    <meta name="keywords" content="photography, professional photographer, portraits, events, nature photography, architecture photography, San Francisco photographer">
    <meta name="author" content="SubjectPhoto">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="SubjectPhoto - Professional Photography Services">
    <meta property="og:description" content="Capturing Moments, Telling Stories. Professional photography services for all occasions.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://subjectphoto.com">
    <meta property="og:image" content="https://images.unsplash.com/photo-1502920917128-1aa500764cbd?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80">
    <meta property="og:site_name" content="SubjectPhoto">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="SubjectPhoto - Professional Photography Services">
    <meta name="twitter:description" content="Capturing Moments, Telling Stories. Professional photography services for all occasions.">
    <meta name="twitter:image" content="https://images.unsplash.com/photo-1502920917128-1aa500764cbd?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ“·</text></svg>">
    
    <!-- PWA Meta Tags -->
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#3b82f6">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="SubjectPhoto">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://subjectphoto.com">
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'GA_MEASUREMENT_ID');
    </script>
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "PhotographyBusiness",
        "name": "SubjectPhoto",
        "description": "Professional photography services specializing in portraits, events, nature, and architecture photography",
        "url": "https://subjectphoto.com",
        "logo": "https://subjectphoto.com/logo.png",
        "image": "https://images.unsplash.com/photo-1502920917128-1aa500764cbd?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",
        "address": {
            "@type": "PostalAddress",
            "addressLocality": "San Francisco",
            "addressRegion": "CA",
            "addressCountry": "US"
        },
        "contactPoint": {
            "@type": "ContactPoint",
            "contactType": "customer service",
            "email": "contact@subjectphoto.com"
        },
        "sameAs": [
            "https://instagram.com/subjectphoto",
            "https://facebook.com/subjectphoto"
        ]
    }
    </script>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'inter': ['Inter', 'sans-serif'],
                    },
                    colors: {
                        'cool-white': '#f0f9ff',
                        'soft-white': '#e0f2fe',
                        'light-blue': '#f0f9ff',
                        'cool-gray': '#64748b',
                        'soft-gray': '#94a3b8',
                        'light-gray': '#e0f2fe',
                        'accent-blue': '#3b82f6',
                        'hover-blue': '#2563eb',
                    }
                }
            }
        }
    </script>
</head>
<body class="font-inter bg-blue-50 text-slate-700 overflow-x-hidden">
    <!-- Navigation -->
    <nav class="fixed top-0 left-0 right-0 z-50 bg-blue-50/95 backdrop-blur-sm border-b border-blue-200">
        <div class="container mx-auto px-6 py-4">
            <div class="flex justify-between items-center">
                <a href="/" class="text-2xl font-semibold text-slate-800 hover:text-accent-blue transition-colors">
                    SubjectPhoto
                </a>
                
                <!-- Desktop Menu -->
                <div class="hidden md:flex space-x-8">
                    <a href="/" class="text-slate-800 hover:text-accent-blue transition-colors font-medium">Home</a>
                    <a href="/gallery.html" class="text-cool-gray hover:text-accent-blue transition-colors font-medium">Gallery</a>
                    <a href="/about.html" class="text-cool-gray hover:text-accent-blue transition-colors font-medium">About</a>
                    <a href="/login.html" class="text-cool-gray hover:text-accent-blue transition-colors font-medium">Admin</a>
                </div>

                <!-- Mobile Menu Button -->
                <button id="mobile-menu-btn" class="md:hidden text-slate-700" aria-label="Toggle mobile menu" aria-expanded="false" aria-controls="mobile-menu">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
            </div>

            <!-- Mobile Menu -->
            <div id="mobile-menu" class="hidden md:hidden mt-4 pb-4" role="navigation" aria-label="Mobile navigation">
                <div class="flex flex-col space-y-4">
                    <a href="/" class="text-slate-800 hover:text-accent-blue transition-colors font-medium">Home</a>
                    <a href="/gallery.html" class="text-cool-gray hover:text-accent-blue transition-colors font-medium">Gallery</a>
                    <a href="/about.html" class="text-cool-gray hover:text-accent-blue transition-colors font-medium">About</a>
                    <a href="/login.html" class="text-cool-gray hover:text-accent-blue transition-colors font-medium">Admin</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <main class="relative min-h-screen flex items-center justify-center">
        <!-- Background Image -->
        <div class="absolute inset-0 z-0">
            <img 
                src="https://images.unsplash.com/photo-1502920917128-1aa500764cbd?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80" 
                alt="Professional photography studio background with camera equipment"
                class="w-full h-full object-cover"
                loading="lazy"
            >
            <div class="absolute inset-0 bg-gradient-to-b from-blue-50/40 via-blue-100/30 to-blue-50/50"></div>
        </div>

        <!-- Hero Content -->
        <div class="relative z-10 text-center px-6 max-w-4xl mx-auto">
            <h1 class="text-4xl sm:text-5xl md:text-7xl lg:text-8xl font-light mb-6 tracking-tight">
                <span class="block text-slate-800 font-extralight">Subject</span>
                <span class="block text-accent-blue font-medium">Photo</span>
            </h1>
            
            <p class="text-lg sm:text-xl md:text-2xl text-cool-gray mb-12 max-w-2xl mx-auto leading-relaxed font-light">
                Capturing Moments, Telling Stories
            </p>
            
            <a 
                href="/gallery.html" 
                class="inline-block bg-accent-blue hover:bg-hover-blue text-white px-8 py-4 text-lg font-medium rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl"
            >
                View Gallery
            </a>
        </div>

        <!-- Scroll Indicator -->
        <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce">
            <svg class="w-6 h-6 text-cool-gray" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
            </svg>
        </div>
    </main>

    <!-- Featured Work Section -->
    <section class="py-20 px-6 bg-blue-100">
        <div class="container mx-auto max-w-6xl">
            <h2 class="text-3xl md:text-4xl font-light text-center mb-16 text-slate-800">Featured Work</h2>
            
            <div id="featured-work-grid" class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Loading skeleton -->
                <div id="loading-skeleton" class="col-span-full">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                        <div class="animate-pulse">
                            <div class="bg-gray-200 rounded-xl aspect-square mb-4"></div>
                            <div class="h-4 bg-gray-200 rounded mb-2"></div>
                            <div class="h-3 bg-gray-200 rounded w-3/4"></div>
                        </div>
                        <div class="animate-pulse">
                            <div class="bg-gray-200 rounded-xl aspect-square mb-4"></div>
                            <div class="h-4 bg-gray-200 rounded mb-2"></div>
                            <div class="h-3 bg-gray-200 rounded w-3/4"></div>
                        </div>
                        <div class="animate-pulse">
                            <div class="bg-gray-200 rounded-xl aspect-square mb-4"></div>
                            <div class="h-4 bg-gray-200 rounded mb-2"></div>
                            <div class="h-3 bg-gray-200 rounded w-3/4"></div>
                        </div>
                    </div>
                </div>
                <!-- Dynamic content will be loaded here -->
            </div>
        </div>
    </section>

    <!-- About Preview -->
    <section class="py-20 px-6 bg-blue-50">
        <div class="container mx-auto max-w-4xl text-center">
            <h2 class="text-3xl md:text-4xl font-light mb-8 text-slate-800">About the Photographer</h2>
            <p class="text-lg text-cool-gray leading-relaxed mb-8 max-w-2xl mx-auto font-light">
                With over 8 years of experience, I specialize in creating timeless images that tell authentic stories. 
                Every photograph is an opportunity to capture something beautiful and meaningful.
            </p>
            <a 
                href="/about.html" 
                class="inline-block border border-accent-blue text-accent-blue hover:bg-accent-blue hover:text-white px-8 py-3 text-lg font-medium rounded-lg transition-all duration-300"
            >
                Learn More
            </a>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-blue-50 border-t border-blue-200 py-12 px-6">
        <div class="container mx-auto max-w-6xl text-center">
            <h3 class="text-2xl font-medium mb-4 text-slate-800">SubjectPhoto</h3>
            <p class="text-cool-gray mb-6 font-light">Professional photography services for all occasions</p>
            <div class="flex justify-center space-x-8">
                <a href="#" class="text-cool-gray hover:text-accent-blue transition-colors font-medium" onclick="shareOnSocial('instagram')">Instagram</a>
                <a href="#" class="text-cool-gray hover:text-accent-blue transition-colors font-medium" onclick="shareOnSocial('facebook')">Facebook</a>
                <a href="#" class="text-cool-gray hover:text-accent-blue transition-colors font-medium" onclick="shareOnSocial('twitter')">Twitter</a>
                <a href="#" class="text-cool-gray hover:text-accent-blue transition-colors font-medium" onclick="shareOnSocial('linkedin')">LinkedIn</a>
            </div>
            <div class="mt-8 pt-8 border-t border-blue-200">
                <p class="text-soft-gray text-sm font-light">&copy; 2024 SubjectPhoto. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Mobile menu toggle with accessibility
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');

        mobileMenuBtn.addEventListener('click', () => {
            const isHidden = mobileMenu.classList.contains('hidden');
            mobileMenu.classList.toggle('hidden');
            mobileMenuBtn.setAttribute('aria-expanded', !isHidden);
        });

        // Close mobile menu when clicking outside
        document.addEventListener('click', (e) => {
            if (!mobileMenuBtn.contains(e.target) && !mobileMenu.contains(e.target)) {
                mobileMenu.classList.add('hidden');
                mobileMenuBtn.setAttribute('aria-expanded', 'false');
            }
        });

        // Keyboard navigation for mobile menu
        mobileMenuBtn.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                mobileMenuBtn.click();
            }
        });

        // Get stored images from localStorage
        function getStoredImages() {
            const stored = localStorage.getItem('adminImages');
            return stored ? JSON.parse(stored) : [];
        }

        // Get custom titles and descriptions
        function getCustomTitle(category) {
            const customData = JSON.parse(localStorage.getItem('categoryDescriptions') || '{}');
            return customData[category + '_title'] || category.charAt(0).toUpperCase() + category.slice(1) + ' Photography';
        }

        function getCustomDescription(category) {
            const customData = JSON.parse(localStorage.getItem('categoryDescriptions') || '{}');
            const defaultDescriptions = {
                'portraits': 'Capturing authentic expressions',
                'events': 'Preserving special moments',
                'nature': 'Beauty of the natural world',
                'architecture': 'Contemporary architectural design'
            };
            return customData[category] || defaultDescriptions[category] || 'Professional photography';
        }

        // Create a featured work item
        function createFeaturedWorkItem(imageData) {
            const div = document.createElement('div');
            div.className = 'group relative overflow-hidden rounded-xl bg-white shadow-sm hover:shadow-lg transition-all duration-300 cursor-pointer';
            
            div.innerHTML = `
                <img 
                    src="${imageData.src}"
                    alt="${imageData.name}"
                    class="w-full aspect-square object-cover transition-transform duration-500 group-hover:scale-105"
                >
                <div class="absolute inset-0 bg-gradient-to-t from-slate-900/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                    <div class="absolute bottom-6 left-6 text-white">
                        <h3 class="text-xl font-medium mb-2" data-category="${imageData.category}">${getCustomTitle(imageData.category)}</h3>
                        <p class="text-slate-200 font-light" data-category="${imageData.category}">${getCustomDescription(imageData.category)}</p>
                    </div>
                </div>
            `;
            
            // Add click event to navigate to gallery
            div.addEventListener('click', () => {
                window.location.href = '/gallery.html';
            });
            
            return div;
        }

        // Load featured work
        function loadFeaturedWork() {
            const images = getStoredImages();
            const featuredGrid = document.getElementById('featured-work-grid');
            const loadingSkeleton = document.getElementById('loading-skeleton');
            
            // Show loading skeleton
            if (loadingSkeleton) {
                loadingSkeleton.style.display = 'block';
            }
            
            // Simulate loading delay for better UX
            setTimeout(() => {
                // Hide loading skeleton
                if (loadingSkeleton) {
                    loadingSkeleton.style.display = 'none';
                }
                
                // Clear existing content
                featuredGrid.innerHTML = '';
                
                if (images.length === 0) {
                    // Show empty state
                    featuredGrid.innerHTML = `
                        <div class="col-span-full text-center py-12">
                            <svg class="w-16 h-16 mx-auto mb-4 text-soft-gray" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002 2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                            </svg>
                            <h3 class="text-xl font-light mb-2 text-cool-gray">No featured work yet</h3>
                            <p class="text-soft-gray font-light mb-4">Upload images through the admin panel to see them featured here</p>
                            <a href="/login.html" class="inline-block bg-accent-blue text-white px-6 py-2 rounded-lg font-medium hover:bg-hover-blue transition-colors text-sm">
                                Go to Admin
                            </a>
                        </div>
                    `;
                    return;
                }

                // Get unique categories
                const categories = [...new Set(images.map(img => img.category))];
                const featuredImages = [];
                
                // Take the MOST RECENT image from each category (up to 3)
                for (let i = 0; i < Math.min(categories.length, 3); i++) {
                    const categoryImages = images.filter(img => img.category === categories[i]);
                    if (categoryImages.length > 0) {
                        // Sort by uploadDate (most recent first)
                        const sortedImages = categoryImages.sort((a, b) => {
                            if (a.uploadDate && b.uploadDate) {
                                return new Date(b.uploadDate) - new Date(a.uploadDate);
                            }
                            // Fallback: use id (higher = more recent)
                            return (b.id || 0) - (a.id || 0);
                        });
                        featuredImages.push(sortedImages[0]);
                    }
                }
                
                // Create and display featured items
                featuredImages.forEach(imageData => {
                    const featuredItem = createFeaturedWorkItem(imageData);
                    featuredGrid.appendChild(featuredItem);
                });
            }, 500); // 500ms delay for better UX
        }

        // Load featured work when page loads
        document.addEventListener('DOMContentLoaded', () => {
            console.log('DOM loaded, loading featured work...');
            loadFeaturedWork();
        });

        // Reload when page becomes visible
        document.addEventListener('visibilitychange', () => {
            if (!document.hidden) {
                console.log('Page became visible, reloading featured work...');
                loadFeaturedWork();
            }
        });

        // Debug: Log localStorage on load
        console.log('localStorage adminImages:', localStorage.getItem('adminImages'));
        console.log('localStorage categoryDescriptions:', localStorage.getItem('categoryDescriptions'));

        // Service Worker Registration
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => {
                        console.log('SW registered: ', registration);
                    })
                    .catch(registrationError => {
                        console.log('SW registration failed: ', registrationError);
                    });
            });
        }

        // Social Sharing Function
        function shareOnSocial(platform) {
            const url = encodeURIComponent(window.location.href);
            const title = encodeURIComponent('SubjectPhoto - Professional Photography Services');
            const description = encodeURIComponent('Capturing Moments, Telling Stories. Professional photography services for all occasions.');
            
            let shareUrl = '';
            
            switch(platform) {
                case 'facebook':
                    shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${url}`;
                    break;
                case 'twitter':
                    shareUrl = `https://twitter.com/intent/tweet?url=${url}&text=${title}&hashtags=photography,professional`;
                    break;
                case 'linkedin':
                    shareUrl = `https://www.linkedin.com/sharing/share-offsite/?url=${url}`;
                    break;
                case 'instagram':
                    // Instagram doesn't support direct sharing via URL, show message
                    alert('To share on Instagram, please copy the link and share it in your Instagram story or bio!');
                    return;
                default:
                    return;
            }
            
            window.open(shareUrl, '_blank', 'width=600,height=400');
        }
    </script>
</body>
</html> 