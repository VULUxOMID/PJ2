<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SubjectPhoto - Capturing Moments, Telling Stories</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'inter': ['Inter', 'sans-serif'],
                    },
                    colors: {
                        'cool-white': '#fafbfc',
                        'soft-white': '#f8f9fb',
                        'light-blue': '#f1f5f9',
                        'cool-gray': '#64748b',
                        'soft-gray': '#94a3b8',
                        'light-gray': '#e2e8f0',
                        'accent-blue': '#3b82f6',
                        'hover-blue': '#2563eb',
                    }
                }
            }
        }
    </script>
</head>
<body class="font-inter bg-cool-white text-slate-700 overflow-x-hidden">
    <!-- Navigation -->
    <nav class="fixed top-0 left-0 right-0 z-50 bg-cool-white/95 backdrop-blur-sm border-b border-light-gray">
        <div class="container mx-auto px-6 py-4">
            <div class="flex justify-between items-center">
                <a href="/" class="text-2xl font-semibold text-slate-800 hover:text-accent-blue transition-colors">
                    SubjectPhoto
                </a>
                
                <!-- Desktop Menu -->
                <div class="hidden md:flex space-x-8">
                    <a href="/" class="text-slate-800 hover:text-accent-blue transition-colors font-medium">Home</a>
                    <a href="/gallery.html" class="text-cool-gray hover:text-accent-blue transition-colors font-medium">Gallery</a>
                    <a href="/about.html" class="text-cool-gray hover:text-accent-blue transition-colors font-medium">About</a>
                    <a href="/login.html" class="text-cool-gray hover:text-accent-blue transition-colors font-medium">Admin</a>
                </div>

                <!-- Mobile Menu Button -->
                <button id="mobile-menu-btn" class="md:hidden text-slate-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
            </div>

            <!-- Mobile Menu -->
            <div id="mobile-menu" class="hidden md:hidden mt-4 pb-4">
                <div class="flex flex-col space-y-4">
                    <a href="/" class="text-slate-800 hover:text-accent-blue transition-colors font-medium">Home</a>
                    <a href="/gallery.html" class="text-cool-gray hover:text-accent-blue transition-colors font-medium">Gallery</a>
                    <a href="/about.html" class="text-cool-gray hover:text-accent-blue transition-colors font-medium">About</a>
                    <a href="/login.html" class="text-cool-gray hover:text-accent-blue transition-colors font-medium">Admin</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <main class="relative min-h-screen flex items-center justify-center">
        <!-- Background Image -->
        <div class="absolute inset-0 z-0">
            <img 
                src="https://images.unsplash.com/photo-1502920917128-1aa500764cbd?ixlib=rb-4.0.3&auto=format&fit=crop&w=2340&q=80" 
                alt="Photography background"
                class="w-full h-full object-cover"
            >
            <div class="absolute inset-0 bg-gradient-to-b from-cool-white/40 via-light-blue/30 to-cool-white/50"></div>
        </div>

        <!-- Hero Content -->
        <div class="relative z-10 text-center px-6 max-w-4xl mx-auto">
            <h1 class="text-5xl md:text-7xl lg:text-8xl font-light mb-6 tracking-tight">
                <span class="block text-slate-800 font-extralight">Subject</span>
                <span class="block text-accent-blue font-medium">Photo</span>
            </h1>
            
            <p class="text-xl md:text-2xl text-cool-gray mb-12 max-w-2xl mx-auto leading-relaxed font-light">
                Capturing Moments, Telling Stories
            </p>
            
            <a 
                href="/gallery.html" 
                class="inline-block bg-accent-blue hover:bg-hover-blue text-white px-8 py-4 text-lg font-medium rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl"
            >
                View Gallery
            </a>
        </div>

        <!-- Scroll Indicator -->
        <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce">
            <svg class="w-6 h-6 text-cool-gray" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
            </svg>
        </div>
    </main>

    <!-- Featured Work Preview -->
    <section class="py-20 px-6 bg-soft-white">
        <div class="container mx-auto max-w-6xl">
            <h2 class="text-3xl md:text-4xl font-light text-center mb-16 text-slate-800">Featured Work</h2>
            
            <div id="featured-work-grid" class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Featured work will be loaded dynamically from localStorage -->
            </div>
        </div>
    </section>

    <!-- About Preview -->
    <section class="py-20 px-6 bg-light-blue">
        <div class="container mx-auto max-w-4xl text-center">
            <h2 class="text-3xl md:text-4xl font-light mb-8 text-slate-800">About the Photographer</h2>
            <p class="text-lg text-cool-gray leading-relaxed mb-8 max-w-2xl mx-auto font-light">
                With over 8 years of experience, I specialize in creating timeless images that tell authentic stories. 
                Every photograph is an opportunity to capture something beautiful and meaningful.
            </p>
            <a 
                href="/about.html" 
                class="inline-block border border-accent-blue text-accent-blue hover:bg-accent-blue hover:text-white px-8 py-3 text-lg font-medium rounded-lg transition-all duration-300"
            >
                Learn More
            </a>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-white border-t border-light-gray py-12 px-6">
        <div class="container mx-auto max-w-6xl text-center">
            <h3 class="text-2xl font-medium mb-4 text-slate-800">SubjectPhoto</h3>
            <p class="text-cool-gray mb-6 font-light">Professional photography services for all occasions</p>
            <div class="flex justify-center space-x-8">
                <a href="#" class="text-cool-gray hover:text-accent-blue transition-colors font-medium">Instagram</a>
                <a href="#" class="text-cool-gray hover:text-accent-blue transition-colors font-medium">Facebook</a>
                <a href="#" class="text-cool-gray hover:text-accent-blue transition-colors font-medium">Contact</a>
            </div>
            <div class="mt-8 pt-8 border-t border-light-gray">
                <p class="text-soft-gray text-sm font-light">&copy; 2024 SubjectPhoto. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Mobile menu toggle
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');

        mobileMenuBtn.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });

        // Smooth scrolling for internal links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Load featured work from localStorage
        function getStoredImages() {
            const stored = localStorage.getItem('adminImages');
            return stored ? JSON.parse(stored) : [];
        }

        function createFeaturedWorkItem(imageData) {
            const div = document.createElement('div');
            div.className = 'group relative overflow-hidden rounded-xl bg-white shadow-sm hover:shadow-lg transition-all duration-300';
            
            div.innerHTML = `
                <img 
                    src="${imageData.src}"
                    alt="${imageData.name}"
                    class="w-full aspect-square object-cover transition-transform duration-500 group-hover:scale-105"
                >
                <div class="absolute inset-0 bg-gradient-to-t from-slate-900/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                    <div class="absolute bottom-6 left-6 text-white">
                        <h3 class="text-xl font-medium mb-2 editable-title cursor-pointer hover:text-accent-blue transition-colors" data-category="${imageData.category}">${getCustomTitle(imageData.category)}</h3>
                        <p class="text-slate-200 font-light editable-subtitle cursor-pointer hover:text-accent-blue transition-colors" data-category="${imageData.category}">${getCategoryDescription(imageData.category)}</p>
                    </div>
                </div>
            `;
            
            // Add click event for editing titles
            const title = div.querySelector('.editable-title');
            const subtitle = div.querySelector('.editable-subtitle');
            
            title.addEventListener('click', (e) => {
                e.stopPropagation();
                makeEditable(title);
            });
            
            subtitle.addEventListener('click', (e) => {
                e.stopPropagation();
                makeEditable(subtitle);
            });
            
            return div;
        }

        function getCustomTitle(category) {
            const customDescriptions = JSON.parse(localStorage.getItem('categoryDescriptions') || '{}');
            return customDescriptions[category + '_title'] || category.charAt(0).toUpperCase() + category.slice(1) + ' Photography';
        }

        function getCategoryDescription(category) {
            const descriptions = {
                'portraits': 'Capturing authentic expressions',
                'events': 'Preserving special moments',
                'nature': 'Beauty of the natural world',
                'architecture': 'Contemporary architectural design'
            };
            
            // Get custom descriptions from localStorage
            const customDescriptions = JSON.parse(localStorage.getItem('categoryDescriptions') || '{}');
            return customDescriptions[category] || descriptions[category] || 'Professional photography';
        }

        function makeEditable(element) {
            const currentText = element.textContent;
            const input = document.createElement('input');
            input.type = 'text';
            input.value = currentText;
            input.className = 'bg-white text-slate-800 px-2 py-1 rounded text-sm font-medium w-full';
            
            element.textContent = '';
            element.appendChild(input);
            input.focus();
            input.select();
            
            function saveEdit() {
                const newText = input.value.trim();
                if (newText) {
                    element.textContent = newText;
                    
                    // Save to localStorage
                    const category = element.getAttribute('data-category');
                    const customDescriptions = JSON.parse(localStorage.getItem('categoryDescriptions') || '{}');
                    
                    if (element.classList.contains('editable-title')) {
                        // Save title
                        customDescriptions[category + '_title'] = newText;
                    } else {
                        // Save subtitle
                        customDescriptions[category] = newText;
                    }
                    
                    localStorage.setItem('categoryDescriptions', JSON.stringify(customDescriptions));
                } else {
                    element.textContent = currentText;
                }
            }
            
            input.addEventListener('blur', saveEdit);
            input.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    saveEdit();
                }
            });
        }

        function loadFeaturedWork() {
            const images = getStoredImages();
            const featuredGrid = document.getElementById('featured-work-grid');
            
            // Debug: Log what we found
            console.log('Stored images:', images);
            console.log('Number of images:', images.length);
            
            // Clear existing content
            featuredGrid.innerHTML = '';

            if (images.length === 0) {
                console.log('No images found, showing empty state');
                // Show empty state
                featuredGrid.innerHTML = `
                    <div class="col-span-full text-center py-12">
                        <svg class="w-16 h-16 mx-auto mb-4 text-soft-gray" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002 2v12a2 2 0 002 2z"></path>
                        </svg>
                        <h3 class="text-xl font-light mb-2 text-cool-gray">No featured work yet</h3>
                        <p class="text-soft-gray font-light mb-4">Upload images through the admin panel to see them featured here</p>
                        <a href="/login.html" class="inline-block bg-accent-blue text-white px-6 py-2 rounded-lg font-medium hover:bg-hover-blue transition-colors text-sm">
                            Go to Admin
                        </a>
                    </div>
                `;
                return;
            }

            // Get unique categories and show one image per category
            const categories = [...new Set(images.map(img => img.category))];
            const featuredImages = [];
            
            console.log('Found categories:', categories);
            
            // Take the MOST RECENT image from each category, up to 3 categories
            for (let i = 0; i < Math.min(categories.length, 3); i++) {
                const categoryImages = images.filter(img => img.category === categories[i]);
                if (categoryImages.length > 0) {
                    // Sort by uploadDate (most recent first) and take the latest
                    const sortedImages = categoryImages.sort((a, b) => {
                        if (a.uploadDate && b.uploadDate) {
                            return new Date(b.uploadDate) - new Date(a.uploadDate);
                        }
                        // Fallback: use id to determine order (higher id = more recent)
                        return (b.id || 0) - (a.id || 0);
                    });
                    featuredImages.push(sortedImages[0]);
                }
            }
            
            console.log('Featured images to display:', featuredImages);
            
            featuredImages.forEach(imageData => {
                const featuredItem = createFeaturedWorkItem(imageData);
                featuredGrid.appendChild(featuredItem);
            });
        }

        // Load featured work when page loads
        document.addEventListener('DOMContentLoaded', () => {
            console.log('DOM loaded, calling loadFeaturedWork');
            loadFeaturedWork();
        });

        // Also load when the page becomes visible (for browser back/forward)
        document.addEventListener('visibilitychange', () => {
            if (!document.hidden) {
                console.log('Page became visible, calling loadFeaturedWork');
                loadFeaturedWork();
            }
        });

        // Debug: Check localStorage on page load
        console.log('localStorage adminImages:', localStorage.getItem('adminImages'));
        console.log('localStorage categoryDescriptions:', localStorage.getItem('categoryDescriptions'));
    </script>
</body>
</html> 